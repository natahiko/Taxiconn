let main_zoom=15;function myMap(){let e={center:new google.maps.LatLng(50.46000699004913,30.52081012508188),zoom:15,mapTypeControl:!1,draggable:!1,scaleControl:!1},t=new google.maps.Map(document.getElementById("googleMap"),e),o=new google.maps.LatLng(50.46000699004913,30.52081012508188),n=new google.maps.Marker({position:o,animation:google.maps.Animation.BOUNCE,icon:"../images/map.png"});n.setMap(t),google.maps.event.addListener(n,"click",function(){15===main_zoom?(t.setZoom(9),main_zoom=9):(t.setZoom(15),main_zoom=15),t.setCenter(n.getPosition())})}function initAutocomplete(){new AutocompleteDirectionsHandler(new google.maps.Map(document.getElementById("map"),{mapTypeControl:!1,center:{lat:50.46000699004913,lng:30.52081012508188},zoom:13}))}function AutocompleteDirectionsHandler(e){this.map=e,this.originPlaceId=null,this.destinationPlaceId=null,this.travelMode="DRIVING",this.directionsService=new google.maps.DirectionsService,this.directionsRenderer=new google.maps.DirectionsRenderer,this.directionsRenderer.setMap(e);var t=document.getElementById("address_from"),o=document.getElementById("address_to"),n=new google.maps.places.Autocomplete(t);n.setComponentRestrictions({country:["ua"]}),n.setFields(["place_id"]);var i=new google.maps.places.Autocomplete(o);i.setComponentRestrictions({country:["ua"]}),i.setFields(["place_id"]),this.setupPlaceChangedListener(n,"ORIG"),this.setupPlaceChangedListener(i,"DEST")}AutocompleteDirectionsHandler.prototype.setupPlaceChangedListener=function(e,t){var o=this;e.bindTo("bounds",this.map),e.addListener("place_changed",function(){var n=e.getPlace();"ORIG"===t?o.originPlaceId=n.place_id:o.destinationPlaceId=n.place_id,o.route()})},AutocompleteDirectionsHandler.prototype.route=function(){if(this.originPlaceId&&this.destinationPlaceId){var e=this;this.directionsService.route({origin:{placeId:this.originPlaceId},destination:{placeId:this.destinationPlaceId},travelMode:this.travelMode},function(t,o){if("OK"===o){e.directionsRenderer.setDirections(t);var n=t.routes[0].legs[0].distance.text;sessionStorage.setItem("distance",n),calcPrice()}else window.alert("Directions request failed due to "+o)})}};